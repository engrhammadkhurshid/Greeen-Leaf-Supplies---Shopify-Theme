{%- unless template == 'index' or template == 'cart' or template == 'list-collections' or template == '404' -%}
{%- assign t = template | split: '.' | first -%}

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ shop.url }}"
    }
    {%- case t -%}
      {%- when 'collection' -%}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": "{{ collection.title | escape }}",
          "item": "{{ shop.url }}{{ collection.url }}"
        }
      {%- when 'product' -%}
        {%- if collection -%}
          ,{
            "@type": "ListItem",
            "position": 2,
            "name": "{{ collection.title | escape }}",
            "item": "{{ shop.url }}{{ collection.url }}"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "{{ product.title | escape }}",
            "item": "{{ shop.url }}{{ product.url }}"
          }
        {%- else -%}
          ,{
            "@type": "ListItem",
            "position": 2,
            "name": "{{ product.title | escape }}",
            "item": "{{ shop.url }}{{ product.url }}"
          }
        {%- endif -%}
      {%- when 'blog' -%}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": "{{ blog.title | escape }}",
          "item": "{{ shop.url }}{{ blog.url }}"
        }
      {%- when 'article' -%}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": "{{ blog.title | escape }}",
          "item": "{{ shop.url }}{{ blog.url }}"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "{{ article.title | escape }}",
          "item": "{{ shop.url }}{{ article.url }}"
        }
      {%- when 'page' -%}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": "{{ page.title | escape }}",
          "item": "{{ shop.url }}{{ page.url }}"
        }
    {%- endcase -%}
  ]
}
</script>
{%- endunless -%}
